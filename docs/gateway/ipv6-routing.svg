<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="370" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #f0f0f0; stroke: #333; stroke-width: 2; }
      .internet { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; }
      .router { fill: #fff2e6; stroke: #ff6600; stroke-width: 2; }
      .rpi { fill: #e6ffe6; stroke: #00cc00; stroke-width: 2; }
      .device { fill: #ffe6f0; stroke: #cc0066; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .text-small { font-family: Arial, sans-serif; font-size: 10px; fill: #333; }
      .title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #333; }
      .ip { font-family: monospace; font-size: 11px; fill: #666; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .direct-arrow { stroke: #00cc00; stroke-width: 3; fill: none; marker-end: url(#greenarrow); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
    <marker id="greenarrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#00cc00" />
    </marker>
  </defs>

  <!-- Internet -->
  <ellipse cx="70" cy="200" rx="50" ry="80" class="internet"/>
  <text x="70" y="185" text-anchor="middle" class="title">Internet</text>
  <text x="70" y="205" text-anchor="middle" class="text">External</text>
  <text x="70" y="220" text-anchor="middle" class="text">Users</text>

  <!-- Router -->
  <rect x="150" y="20" width="180" height="270" class="router" rx="5"/>
  <text x="240" y="40" text-anchor="middle" class="title">Router</text>
  
  <!-- Router IP addresses (above inner boxes) -->
  <text x="160" y="65" text-anchor="left" class="ip">IPv4-Public: 192.0.2.1</text>
  <text x="160" y="80" text-anchor="left" class="ip">IPv4-Private: 192.168.0.1</text>
  <text x="160" y="95" text-anchor="left" class="ip">IPv6: 2001:db8:1234::1</text>

  <!-- Router - Management UI -->
  <rect x="180" y="110" width="140" height="80" class="box" rx="3"/>
  <text x="190" y="125" text-anchor="left" class="text">Management UI</text>
  <text x="190" y="140" text-anchor="left" class="text-small">IPv4-Private</text>
  <text x="190" y="155" text-anchor="left" class="text-small">IPv6 from local network</text>
  <text x="190" y="180" text-anchor="left" class="ip">80,443</text>

  <rect x="160" y="200" width="140" height="80" class="box" rx="3"/>
  <text x="170" y="215" text-anchor="left" class="text">Port forwarding</text>
  <text x="170" y="230" text-anchor="left" class="text-small">IPv4-Public</text>
  <text x="170" y="245" text-anchor="left" class="text-small">IPv6 from internet</text>
  <text x="170" y="270" text-anchor="left" class="ip">53,80,443</text>

  <!-- Raspberry Pi -->
  <rect x="370" y="20" width="180" height="270" class="rpi" rx="5"/>
  <text x="460" y="40" text-anchor="middle" class="title">Raspberry Pi</text>
  
  <!-- Raspberry Pi IP address (above inner boxes) -->
  <text x="380" y="65" text-anchor="left" class="ip">IPv4-Public: N/A</text>
  <text x="380" y="80" text-anchor="left" class="ip">IPv4-Private: 192.168.0.2</text>
  <text x="380" y="95" text-anchor="left" class="ip">IPv6: 2001:db8:1234::2</text>
  <!-- Home Assistant -->
  <rect x="390" y="110" width="140" height="80" class="box" rx="3"/>
  <text x="400" y="125" text-anchor="left" class="text">Home Assistant</text>
  <text x="400" y="180" text-anchor="left" class="ip">8123</text>
  <!-- Gateway -->
  <rect x="390" y="200" width="140" height="80" class="box" rx="3"/>
  <text x="400" y="215" text-anchor="left" class="text">Gateway</text>
  <text x="400" y="270" text-anchor="left" class="ip">53,80,443</text>


  <!-- Local PC/Mac -->
  <rect x="590" y="20" width="180" height="270" class="device" rx="5"/>
  <text x="600" y="40" text-anchor="left" class="title">Local PC/Mac</text>
  <text x="600" y="65" text-anchor="left" class="ip">IPv4-Public: N/A</text>
  <text x="600" y="80" text-anchor="left" class="ip">IPv4-Private: 192.168.0.3</text>
  <text x="600" y="95" text-anchor="left" class="ip">IPv6: 2001:db8:1234::3</text>
  <!-- Gateway -->
  <rect x="610" y="200" width="140" height="80" class="box" rx="3"/>
  <text x="620" y="215" text-anchor="left" class="text">Browser</text>

  <!-- Arrows -->
  <!-- Internet to Router -->
  <line x1="120" y1="220" x2="160" y2="240" class="arrow"/>
  
  <!-- Router to Gateway (port forwarding) -->
  <line x1="300" y1="240" x2="390" y2="240" class="arrow"/>

  <path d="M 390 220 Q 320 180 390 140" class="arrow"/>
  <path d="M 390 220 Q 350 200 320 140" class="arrow"/>

  <path d="M 680 280 Q 570 400 460 280" class="arrow"/>
  <path d="M 680 280 Q 570 420 230 280" class="arrow"/>
  <text x="390" y="320" text-anchor="middle" class="text-small">IPv4-Public</text>
  <text x="540" y="320" text-anchor="middle" class="text-small">IPv6</text>

</svg>