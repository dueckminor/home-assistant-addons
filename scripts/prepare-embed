#!/usr/bin/env python3

import os
import sys
import argparse

sys.path.insert(
    0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..", "scripts/lib"))
)

from ha_addons.build import build_web


def main():
    parser = argparse.ArgumentParser(
        description="Prepare web embed assets for all components."
    )
    parser.add_argument(
        "--fast", action="store_true", help="Skip building if assets already exist."
    )
    args = parser.parse_args()

    for component in ["auth", "gateway", "security", "mqtt-bridge"]:
        build_web(component, fast=args.fast)


if __name__ == "__main__":
    main()
